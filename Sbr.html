
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>Ø£Ø¯Ø§Ø© ØªØµØ­ÙŠØ­ ÙƒÙˆØ¯ HTML Ù„Ø¨Ù„ÙˆØ¬Ø±</title>
  <style>
    body { font-family: Tahoma, sans-serif; background: #f9f9f9; padding: 20px; color: #222; }
    textarea { width: 100%; height: 300px; font-family: monospace; font-size: 15px; direction: ltr; padding: 10px; }
    button { padding: 10px 30px; font-size: 18px; margin-top: 15px; cursor: pointer; background: #2196F3; color: white; border: none; border-radius: 5px; }
    h2 { color: #333; }
  </style>
</head>
<body>

<h2>ðŸ”§ Ø£Ø¯Ø§Ø© ØªØµØ­ÙŠØ­ ÙƒÙˆØ¯ HTML ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ù„Ø¨Ù„ÙˆØ¬Ø±</h2>

<p>Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§:</p>
<textarea id="inputCode"></textarea>

<button onclick="fixHtml()">âœ… ØªØµØ­ÙŠØ­ Ø§Ù„ÙƒÙˆØ¯</button>

<p>Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØµØ­Ø­:</p>
<textarea id="outputCode" readonly></textarea>

<script>
function fixHtml() {
  let html = document.getElementById("inputCode").value;

  // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø±Ù…ÙˆØ² Ø§Ù„ØºÙŠØ± ØµØ§Ù„Ø­Ø©
  html = html.replace(/&(?!(amp;|lt;|gt;|quot;|#39;|apos;))/g, "&amp;");
  html = html.replace(/</g, "&lt;");
  html = html.replace(/>/g, "&gt;");
  html = html.replace(/"/g, "&quot;");
  html = html.replace(/'/g, "&apos;");

  // ØªØ­ÙˆÙŠÙ„ ÙˆØ³ÙˆÙ… meta ÙˆØºÙŠØ±Ù‡Ø§ Ø¥Ù„Ù‰ ÙˆØ³ÙˆÙ… Ù…ØºÙ„Ù‚Ø©
  html = html.replace(/&lt;meta([^&]*)(?<!\/)&gt;/g, "&lt;meta$1 /&gt;");
  const selfClosingTags = ['br', 'hr', 'img', 'input', 'link', 'source'];
  selfClosingTags.forEach(tag => {
    const regex = new RegExp(`&lt;${tag}([^&]*)(?<!/)&gt;`, 'g');
    html = html.replace(regex, `&lt;${tag}$1 /&gt;`);
  });

  document.getElementById("outputCode").value = html;
}
</script>

</body>
</html>
